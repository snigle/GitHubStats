<h2><a href="{{repo.url}}">{{repo.name}}</a></h2>
<p>{{repo.description}}</p>

<h2 class="error" ng-if="error">
    {{error}}
</h2>

<div class="col-xs-12 col-sm-12 loader" ng-if="firstLoad"><i class="fa fa-spinner fa-spin"></i></div>

<!-- Contributors stats -->

<div class="col-xs-12 col-sm-4 contributors" ng-if="!firstLoad && !error">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3>Contributors Impact</h3>
        </div>
        <div class="panel-body noPadding table-responsive">
            <table class="table table-striped">
                <tr ng-repeat="author in authors| orderBy : '-total'">
                    <td class="avatar"><img ng-src="{{author.avatar_url}}"
                                            alt="avatar" ng-if="author.avatar_url"/></td>
                    <td class="login" ng-style="{fontSize : calculateFontSize(author)}" title="{{author.email}}">
                        <a href="{{author.url}}">{{author.name}}</a></td>
                    <td class="commits">{{author.total}}<br />
                        <span class="mini">Commit{{author.total>1?"s":""}}</span></td>
                </tr>
            </table>
        </div>
    </div>
</div>

<!-- Contributors stats -->
<div class="col-xs-12 col-sm-8 commitsTimeline" ng-if="!firstLoad && !error">
    <div ng-repeat="commit in commits">
        <div class="row year" ng-if="!commits[$index-1] ||
                    (commits[$index-1].date  | date : 'yyyy')!= (commit.date | date : 'yyyy')">
            <h2 class="col-xs-12">
                {{commit.date| date : 'yyyy'}}
            </h2>
            <div class="col-xs-12 col-sm-4 col-sm-offset-4"><div class="progress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="{{porcentByYear((commit.date | date : 'yyyy'))}}" aria-valuemin="0" aria-valuemax="100" style="width: {{porcentByYear((commit.date | date : 'yyyy'))}}%;min-width: 20px;">
                        {{porcentByYear((commit.date | date : 'yyyy'))}}%
                    </div>
                </div>
            </div>
        </div>
        <div class="row" ng-if="!commits[$index-1] ||
                   (commits[$index-1].date  | date : 'yyyy')!= (commit.date | date : 'yyyy') ||
                   (commits[$index-1].date  | date : 'MMMM')!= (commit.date | date : 'MMMM')">
            <h3 >
                {{commit.date| date : 'MMMM'}}
            </h3>
            <div class="col-xs-12 col-sm-4 col-sm-offset-4"><div class="progress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="{{porcentByMonth((commit.date | date : 'MMMM'))}}" aria-valuemin="0" aria-valuemax="100" style="width: {{porcentByMonth((commit.date | date : 'MMMM'))}}%;min-width: 20px;">
                        {{porcentByMonth((commit.date | date : 'MMMM'))}}%
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default" ng-if="false">
            <div class="panel-heading">
                <div class="row">
                    <span class="col-xs-12 col-sm-12 col-md-6"> <img
                            ng-src="{{commit.author.avatar_url}}" ng-if="commit.author.avatar_url" /> <span
                            class="name">{{commit.author.name}}</span> <span
                            ng-if="commit.author.login">({{commit.author.login}})</span>
                    </span> <span class="col-xs-12 col-sm-12 col-md-6 sha">commit
                        #{{commit.sha}}</span>
                </div>
            </div>
            <div class="panel-body">
                <div class="message">{{commit.message}}</div>
                <div class="date">{{commit.date| date : 'medium'}}</div>
            </div>
        </div>
    </div>
    <div class="col-xs-12 col-sm-12 loader" ng-if="loadingCommits"><i class="fa fa-spinner fa-spin"></i></div>
    <div class="col-xs-12 col-sm-12 more" ng-if="!noMoreResults && !loadingCommits"><button class="btn btn-default" ng-click="loadCommits(page + 1)">Show More Results</button></div>
</div>
